!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}({2:function(e,t){const n=document.getElementById("user-id"),a=document.getElementById("post-id"),o=document.getElementById("add-comment");let s=document.getElementById("comment-div");function c(e){let t=new Date(e),n=new Date(Date.now()-t);return n.getTime<1e4?"just now":n.getTime<6e4?"less than a minute ago":n.getTime<6e5?"less than 10 minutes ago":n.getTime<18e5?"less than half hour ago":n.getTime<36e5?"less than an hour ago":n.getTime<864e5?"less than a day ago":"posted on "+t.toLocaleDateString()}function r(e){return"member since "+new Date(e).toLocaleDateString()}window.onload=()=>{fetch(`/posts/api/${a.value}`,{method:"GET"}).then(e=>e.json()).then(e=>{e.forEach(e=>{output=`\n                    <div class="card">\n                        <div class="container">\n                            <div class="comment">\n                                <div class="comment-span-left">\n                                    <input class="comment-id" type="hidden" value=${e._id}>\n                                    <p class="author-name">${e.authorUserName}</p>\n                                    <img class="avatar" src="https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50" />\n                                    <small class="member-since">${r(e.authorDateJoined)}</small>\n                                </div>\n                                <span class="comment-span-right">\n                                    <p class="post-date">${c(e.date)}</p>\n                                    <p class="post-content">${e.commentBody}</p>\n                                </span> \n                            </div>\n                        </div> \n                    </div\n                `,s.innerHTML+=output})})},document.getElementById("add-comment-btn").addEventListener("click",()=>{""==o.value?o.style.border="2px solid red":fetch("/posts/api",{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({commentBody:o.value,userId:n.value,postId:a.value})}).then(e=>e.json()).then(e=>console.log(e))}),window.setInterval(()=>{let e=!1;commentsList=document.querySelectorAll(".comment"),fetch(`/posts/api/${a.value}`,{method:"GET"}).then(e=>e.json()).then(t=>{t.forEach(t=>{e=!1,commentsList.forEach(n=>{n.firstElementChild.firstElementChild.value==t._id&&(e=!0,t.commentBody!=n.children[1].children[1].innerText&&(n.children[1].children[1].innerText=t.commentBody))}),0==e&&(output=`\n                    <div class="card">\n                        <div class="container">\n                            <div class="comment">\n                                <div class="comment-span-left">\n                                    <input class="comment-id" type="hidden" value=${t._id}>\n                                    <p class="author-name">${t.authorUserName}</p>\n                                    <img class="avatar" src="https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50" />\n                                    <p class="member-since">${r(t.authorDateJoined)}</p>\n                                </div>\n                                <span class="comment-span-right">\n                                    <p class="post-date">${c(t.date)}</p>\n                                    <p class="post-content">${t.commentBody}</p>\n                                </span> \n                            </div>\n                        </div> \n                    </div\n                    `,s.innerHTML+=output)})})},1e4)}});